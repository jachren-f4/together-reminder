{
  "rules": {
    "pairing_codes": {
      "$code": {
        ".read": true,
        ".write": "!data.exists()",
        ".validate": "newData.hasChildren(['userId', 'pushToken', 'name', 'createdAt', 'expiresAt'])"
      }
    },
    "dev_emulators": {
      "$emulatorId": {
        ".read": true,
        ".write": true
      }
    },
    "daily_quests": {
      "$coupleId": {
        ".read": true,
        ".write": true,
        "$dateKey": {
          ".read": true,
          ".write": true
        }
      }
    },
    "quiz_progression": {
      "$coupleId": {
        ".read": true,
        ".write": true
      }
    },
    "quiz_sessions": {
      "$coupleId": {
        ".read": true,
        ".write": true,
        ".indexOn": ["createdAt", "status"]
      }
    },
    "you_or_me_sessions": {
      "$coupleId": {
        ".read": true,
        ".write": true
      }
    },
    "daily_pulses": {
      "$emulatorId": {
        ".read": true,
        ".write": true
      }
    },
    "lp_awards": {
      "$coupleId": {
        ".read": true,
        ".write": true
      }
    },
    "memory_puzzles": {
      "$coupleId": {
        ".read": true,
        ".write": true,
        "$puzzleId": {
          ".read": true,
          ".write": true
        }
      }
    },
    "couple_preferences": {
      "$coupleId": {
        ".read": true,
        ".write": true
      }
    },
    "steps_data": {
      "$coupleId": {
        ".read": true,
        ".write": true,
        "connection": {
          ".read": true,
          ".write": true
        },
        "days": {
          "$dateKey": {
            ".read": true,
            ".write": true
          }
        }
      }
    }
  }
}
