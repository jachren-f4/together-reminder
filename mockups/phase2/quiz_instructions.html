<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 2.1 - Quiz Instructions Fix</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #FAFAFA;
            color: #3A3A3A;
            display: flex;
            gap: 40px;
            padding: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .mockup-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        .mockup-label {
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #6E6E6E;
            padding: 8px 16px;
            background: #F0F0F0;
            border-radius: 8px;
        }

        .mockup-label.before { background: #FFE5E5; color: #C62828; }
        .mockup-label.after { background: #E5FFE5; color: #2E7D32; }

        .phone {
            width: 390px;
            height: 844px;
            background: linear-gradient(180deg, #FFD1C1 0%, #FFF5F0 100%);
            border-radius: 50px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .screen-content {
            padding: 60px 24px 120px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            width: 44px;
            height: 44px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #3A3A3A;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* Progress bar */
        .progress-container {
            margin-bottom: 24px;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255,255,255,0.5);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            width: 20%;
            background: linear-gradient(90deg, #FF6B6B, #FF9F43);
            border-radius: 3px;
        }

        /* Question card */
        .question-card {
            background: white;
            border-radius: 24px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .question-number {
            font-size: 13px;
            color: #888;
            margin-bottom: 8px;
        }

        /* BEFORE: Confusing question */
        .question-text-before {
            font-family: 'Playfair Display', serif;
            font-size: 22px;
            font-weight: 700;
            color: #3A3A3A;
            margin-bottom: 24px;
            line-height: 1.4;
        }

        /* AFTER: With instruction banner (on-brand colors) */
        .instruction-banner {
            background: linear-gradient(135deg, #FFF0EE, #FFE4D6);
            border-radius: 12px;
            padding: 12px 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid rgba(255, 107, 107, 0.2);
        }

        .instruction-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #FF6B6B, #FF9F43);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .instruction-text {
            font-size: 13px;
            color: #D84315;
            font-weight: 600;
        }

        .about-you-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, #FF6B6B, #FF9F43);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .question-text-after {
            font-family: 'Playfair Display', serif;
            font-size: 22px;
            font-weight: 700;
            color: #3A3A3A;
            margin-bottom: 24px;
            line-height: 1.4;
        }

        /* Answer options */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: #F8F8F8;
            border-radius: 14px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            background: #FFF0EE;
            border-color: #FFD0C8;
        }

        .option.selected {
            background: linear-gradient(135deg, #FFF0F0, #FFE8E0);
            border-color: #FF6B6B;
        }

        .option-letter {
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            color: #3A3A3A;
            border: 2px solid #E0E0E0;
        }

        .option.selected .option-letter {
            background: linear-gradient(135deg, #FF6B6B, #FF9F43);
            color: white;
            border-color: transparent;
        }

        .option-text {
            font-size: 15px;
            color: #3A3A3A;
        }

        /* Button */
        .btn-container {
            position: absolute;
            bottom: 40px;
            left: 24px;
            right: 24px;
        }

        .btn-primary {
            width: 100%;
            background: linear-gradient(180deg, white, #FFF8F0);
            color: #FF5E62;
            padding: 18px;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        /* Confusing questions demo */
        .confusion-callout {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            padding: 12px 16px;
            margin: 16px 0;
            border-radius: 0 8px 8px 0;
        }

        .confusion-callout strong {
            color: #E65100;
        }

        /* Notes section */
        .notes {
            max-width: 1000px;
            margin: 40px auto;
            padding: 30px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .notes h2 {
            font-family: 'Playfair Display', serif;
            font-size: 24px;
            margin-bottom: 20px;
            color: #3A3A3A;
        }

        .notes h3 {
            font-size: 16px;
            font-weight: 700;
            margin: 20px 0 10px;
            color: #FF5E62;
        }

        .notes ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .notes li {
            margin-bottom: 8px;
        }

        .question-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }

        .question-table th,
        .question-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #F0F0F0;
        }

        .question-table th {
            background: #F8F8F8;
            font-weight: 700;
        }

        .bad { color: #C62828; }
        .good { color: #2E7D32; }
    </style>
</head>
<body>
    <!-- BEFORE -->
    <div class="mockup-container">
        <div class="mockup-label before">Before (Confusing)</div>
        <div class="phone">
            <div class="screen-content">
                <div class="header">
                    <div class="back-btn">‚Äπ</div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-number">Question 1 of 5</div>
                    <div class="question-text-before">
                        I feel most loved when my partner gives me their full attention.
                    </div>

                    <div class="confusion-callout">
                        <strong>User confusion:</strong> "Wait, am I answering for myself or guessing what my partner thinks?"
                    </div>

                    <div class="options">
                        <div class="option">
                            <div class="option-letter">A</div>
                            <div class="option-text">Strongly agree</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">B</div>
                            <div class="option-text">Somewhat agree</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">C</div>
                            <div class="option-text">Neutral</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">D</div>
                            <div class="option-text">Disagree</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="btn-container">
                <div class="btn-primary">Next Question</div>
            </div>
        </div>
    </div>

    <!-- AFTER -->
    <div class="mockup-container">
        <div class="mockup-label after">After (Clear)</div>
        <div class="phone">
            <div class="screen-content">
                <div class="header">
                    <div class="back-btn">‚Äπ</div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>

                <div class="question-card">
                    <div class="instruction-banner">
                        <div class="instruction-icon">i</div>
                        <div class="instruction-text">Answer how YOU personally feel</div>
                    </div>

                    <div class="question-number">Question 1 of 5</div>
                    <div class="about-you-badge">
                        <span>üë§</span> About You
                    </div>
                    <div class="question-text-after">
                        I feel most loved when my partner gives me their full attention.
                    </div>

                    <div class="options">
                        <div class="option selected">
                            <div class="option-letter">A</div>
                            <div class="option-text">Strongly agree</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">B</div>
                            <div class="option-text">Somewhat agree</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">C</div>
                            <div class="option-text">Neutral</div>
                        </div>
                        <div class="option">
                            <div class="option-letter">D</div>
                            <div class="option-text">Disagree</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="btn-container">
                <div class="btn-primary">Next Question</div>
            </div>
        </div>
    </div>

    <!-- Design Notes -->
    <div class="notes">
        <h2>Phase 2.1: Quiz Question Clarity</h2>

        <h3>Issues Identified</h3>
        <ul>
            <li><strong>First-person confusion:</strong> "I feel most loved..." - users unsure if answering for self or guessing partner</li>
            <li><strong>No context:</strong> Questions jump in without explaining the format</li>
            <li><strong>Questions 1 & 4 problematic:</strong> Specific questions were called out as unclear</li>
        </ul>

        <h3>Solutions Implemented</h3>
        <ul>
            <li><strong>Instruction banner:</strong> On-brand coral info banner at top: "Answer how YOU personally feel"</li>
            <li><strong>"About You" badge:</strong> Visual tag on each question card reinforcing perspective</li>
            <li><strong>First classic quiz only:</strong> Banner appears only during user's first classic quiz ever, then never again</li>
        </ul>

        <h3>Problematic Questions to Review</h3>
        <table class="question-table">
            <tr>
                <th>#</th>
                <th>Current Wording</th>
                <th>Issue</th>
                <th>Suggested Revision</th>
            </tr>
            <tr>
                <td>1</td>
                <td class="bad">"I feel most loved when..."</td>
                <td>First-person "I" confusing at start</td>
                <td class="good">"You feel most loved when..." or keep instruction banner</td>
            </tr>
            <tr>
                <td>4</td>
                <td class="bad">"When we argue, they usually..."</td>
                <td>Switches to "they" - who is "they"?</td>
                <td class="good">"When you argue, your partner usually..."</td>
            </tr>
        </table>

        <h3>Instruction Banner Behavior</h3>
        <ul>
            <li>Appears on <strong>first classic quiz only</strong> - not on Welcome Quiz, not on subsequent classic quizzes</li>
            <li>Shows on first question of that quiz, then hidden for remaining questions</li>
            <li>Stored in Hive: <code>hasSeenQuizInstructionBanner: true</code></li>
            <li>Never appears again once dismissed or quiz completed</li>
            <li>"About You" badge remains on all questions as persistent subtle reminder</li>
        </ul>

        <h3>Implementation Notes</h3>
        <ul>
            <li>File: <code>app/lib/screens/quiz_match_game_screen.dart</code></li>
            <li>Add Hive field: <code>hasSeenQuizInstructionBanner</code> to user preferences</li>
            <li>Check flag on quiz start: <code>if (!prefs.hasSeenQuizInstructionBanner && isClassicQuiz)</code></li>
            <li>Set flag after first question answered or banner dismissed</li>
            <li>Add: <code>Us2AboutYouBadge</code> widget (always shown)</li>
            <li>Content: Review quiz JSON files for ambiguous questions</li>
        </ul>

        <h2 style="margin-top: 40px; padding-top: 20px; border-top: 3px solid #FF5E62;">üìã Implementation Task List</h2>
        <p style="color: #666; margin-bottom: 20px;">Coding agent: Complete each task below. Check off when done. Follow the "After" mockup exactly.</p>

        <h3>Add Hive Field for Banner State</h3>
        <ul style="list-style: none; margin-left: 0;">
            <li>‚òê Add <code>hasSeenQuizInstructionBanner</code> boolean to user preferences Hive model</li>
            <li>‚òê Default value: <code>false</code></li>
            <li>‚òê Regenerate Hive adapters: <code>flutter pub run build_runner build --delete-conflicting-outputs</code></li>
        </ul>

        <h3>Create Instruction Banner Widget</h3>
        <ul style="list-style: none; margin-left: 0;">
            <li>‚òê Create banner with coral gradient background: <code>#FFF0EE ‚Üí #FFE4D6</code></li>
            <li>‚òê Add gradient circle icon (24px) with white "i" letter</li>
            <li>‚òê Text: "Answer how YOU personally feel"</li>
            <li>‚òê Text color: <code>#D84315</code> (coral), font-weight: 600</li>
            <li>‚òê Border: 1px solid <code>rgba(255, 107, 107, 0.2)</code></li>
            <li>‚òê Border radius: 12px, padding: 12px 16px</li>
        </ul>

        <h3>Create "About You" Badge Widget</h3>
        <ul style="list-style: none; margin-left: 0;">
            <li>‚òê Create gradient badge: <code>#FF6B6B ‚Üí #FF9F43</code></li>
            <li>‚òê Add üë§ emoji + "About You" text</li>
            <li>‚òê Font: 11px, weight 700, uppercase, letter-spacing 0.5px</li>
            <li>‚òê Padding: 6px 12px, border-radius: 16px</li>
            <li>‚òê White text color</li>
        </ul>

        <h3>Integrate into Quiz Screen (<code>quiz_match_game_screen.dart</code>)</h3>
        <ul style="list-style: none; margin-left: 0;">
            <li>‚òê Show instruction banner only on first classic quiz (not Welcome Quiz)</li>
            <li>‚òê Check: <code>if (!prefs.hasSeenQuizInstructionBanner && isClassicQuiz)</code></li>
            <li>‚òê Show banner only on first question, hide for remaining questions</li>
            <li>‚òê Set <code>hasSeenQuizInstructionBanner = true</code> after first question answered</li>
            <li>‚òê Show "About You" badge on ALL questions (always visible)</li>
            <li>‚òê Place badge above question text, below question number</li>
        </ul>

        <h3>Testing Checklist</h3>
        <ul style="list-style: none; margin-left: 0;">
            <li>‚òê First classic quiz shows instruction banner on question 1</li>
            <li>‚òê Banner disappears on question 2+</li>
            <li>‚òê Second classic quiz does NOT show instruction banner</li>
            <li>‚òê Welcome Quiz does NOT show instruction banner</li>
            <li>‚òê "About You" badge appears on ALL questions in ALL quizzes</li>
            <li>‚òê Banner matches mockup styling exactly</li>
        </ul>
    </div>
</body>
</html>
