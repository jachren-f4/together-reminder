<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route Untangler - TogetherRemind</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 550px;
            width: 100%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        h1 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 0.95em;
        }

        .instruction {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            font-size: 0.9em;
            color: #333;
        }

        .crossings-counter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fffbeb;
            padding: 15px 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #f59e0b;
        }

        .counter-label {
            font-weight: 600;
            color: #92400e;
        }

        .counter-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #f59e0b;
        }

        .game-board {
            background: #f9fafb;
            border: 3px solid #e5e7eb;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            position: relative;
            height: 400px;
        }

        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .route-line {
            stroke-width: 3;
            fill: none;
            opacity: 0.7;
        }

        .route-blue {
            stroke: #3b82f6;
        }

        .route-red {
            stroke: #ef4444;
        }

        .route-green {
            stroke: #10b981;
        }

        .route-purple {
            stroke: #8b5cf6;
        }

        .crossing-point {
            fill: #f59e0b;
            opacity: 0.8;
            animation: crossing-pulse 1.5s ease-in-out infinite;
        }

        @keyframes crossing-pulse {
            0%, 100% { r: 4; }
            50% { r: 6; }
        }

        .node {
            cursor: grab;
        }

        .node:active {
            cursor: grabbing;
        }

        .node-circle {
            fill: white;
            stroke-width: 3;
            transition: all 0.3s;
        }

        .node-circle:hover {
            r: 18;
            stroke-width: 4;
        }

        .node-blue .node-circle {
            stroke: #3b82f6;
        }

        .node-red .node-circle {
            stroke: #ef4444;
        }

        .node-green .node-circle {
            stroke: #10b981;
        }

        .node-purple .node-circle {
            stroke: #8b5cf6;
        }

        .node-label {
            font-size: 14px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: middle;
            pointer-events: none;
        }

        .partner-activity {
            background: #f0fdf4;
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 12px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .partner-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #10b981;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .partner-text {
            color: #059669;
            font-size: 0.9em;
            font-weight: 500;
        }

        .color-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }

        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div class="game-icon">üöá</div>
            <h1>Route Untangler</h1>
            <p class="subtitle">Minimize line crossings together</p>
        </div>

        <div class="instruction">
            <strong>How to play:</strong> Drag nodes to rearrange the routes. Goal: Minimize crossings to zero! Each partner controls different colored lines.
        </div>

        <div class="crossings-counter">
            <div class="counter-label">Current Crossings:</div>
            <div class="counter-value">3 ‚úï</div>
        </div>

        <div class="partner-activity">
            <div class="partner-avatar">‚ù§Ô∏è</div>
            <div class="partner-text">
                Your partner moved blue node ‚Ä¢ 2 minutes ago
            </div>
        </div>

        <div class="game-board">
            <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
                <!-- Routes -->
                <path class="route-line route-blue" d="M 20 20 L 80 80" />
                <path class="route-line route-red" d="M 80 20 L 20 80" />
                <path class="route-line route-green" d="M 50 10 L 50 90" />
                <path class="route-line route-purple" d="M 10 50 L 90 50" />

                <!-- Crossing points -->
                <circle class="crossing-point" cx="50" cy="50" r="5" />
                <circle class="crossing-point" cx="35" cy="50" r="4" />
                <circle class="crossing-point" cx="50" cy="35" r="4" />

                <!-- Nodes -->
                <g class="node node-blue" data-x="20" data-y="20">
                    <circle class="node-circle" cx="20" cy="20" r="15" />
                    <text class="node-label" x="20" y="20" fill="#3b82f6">A</text>
                </g>

                <g class="node node-blue" data-x="80" data-y="80">
                    <circle class="node-circle" cx="80" cy="80" r="15" />
                    <text class="node-label" x="80" y="80" fill="#3b82f6">B</text>
                </g>

                <g class="node node-red" data-x="80" data-y="20">
                    <circle class="node-circle" cx="80" cy="20" r="15" />
                    <text class="node-label" x="80" y="20" fill="#ef4444">C</text>
                </g>

                <g class="node node-red" data-x="20" data-y="80">
                    <circle class="node-circle" cx="20" cy="80" r="15" />
                    <text class="node-label" x="20" y="80" fill="#ef4444">D</text>
                </g>

                <g class="node node-green" data-x="50" data-y="10">
                    <circle class="node-circle" cx="50" cy="10" r="15" />
                    <text class="node-label" x="50" y="10" fill="#10b981">E</text>
                </g>

                <g class="node node-green" data-x="50" data-y="90">
                    <circle class="node-circle" cx="50" cy="90" r="15" />
                    <text class="node-label" x="50" y="90" fill="#10b981">F</text>
                </g>

                <g class="node node-purple" data-x="10" data-y="50">
                    <circle class="node-circle" cx="10" cy="50" r="15" />
                    <text class="node-label" x="10" y="50" fill="#8b5cf6">G</text>
                </g>

                <g class="node node-purple" data-x="90" data-y="50">
                    <circle class="node-circle" cx="90" cy="50" r="15" />
                    <text class="node-label" x="90" y="50" fill="#8b5cf6">H</text>
                </g>
            </svg>
        </div>

        <div class="color-legend">
            <div class="legend-item">
                <div class="legend-color" style="border-color: #3b82f6; background: white;"></div>
                <span>Your Routes (Blue)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="border-color: #ef4444; background: white;"></div>
                <span>Partner Routes (Red)</span>
            </div>
        </div>

        <div class="stats">
            <div class="stat">
                <div class="stat-value">3</div>
                <div class="stat-label">Crossings Left</div>
            </div>
            <div class="stat">
                <div class="stat-value">8</div>
                <div class="stat-label">Moves Made</div>
            </div>
            <div class="stat">
                <div class="stat-value">+40</div>
                <div class="stat-label">Love Points</div>
            </div>
        </div>

        <a href="index.html" class="back-link">‚Üê Back to All Games</a>
    </div>

    <script>
        // Interactive demo - simplified node dragging
        const nodes = document.querySelectorAll('.node');
        let isDragging = false;
        let currentNode = null;

        nodes.forEach(node => {
            node.addEventListener('mousedown', () => {
                isDragging = true;
                currentNode = node;
            });
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging && currentNode) {
                const board = document.querySelector('.game-board');
                const rect = board.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;

                const circle = currentNode.querySelector('.node-circle');
                const label = currentNode.querySelector('.node-label');

                circle.setAttribute('cx', x);
                circle.setAttribute('cy', y);
                label.setAttribute('x', x);
                label.setAttribute('y', y);
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            currentNode = null;
        });
    </script>
</body>
</html>
